<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Smart Timetable â€” Professor UI</title>
  <link rel="stylesheet" href="css/style.css">
</head>
<body>
  <!-- Lightweight welcome screen (no real auth) -->
  <div id="welcome-screen" class="welcome-screen">
    <div class="welcome-card">
      <div class="welcome-logo">ST</div>
      <h1>Welcome back, Admin</h1>
      <p>SmartTimetable is ready. Review your optimized schedule and algorithm insights.</p>
      <button id="enterDashboardBtn" class="btn">Enter Dashboard</button>
    </div>
  </div>

  <div class="app">
    <aside class="side" aria-label="Primary">
      <div class="brand">
        <div class="logo">ST</div>
        <div>
          <h1>SmartTimetable</h1>
          <p>Professors' Edition</p>
        </div>
      </div>

      <nav>
        <ul>
          <li><div class="nav-btn active" tabindex="0" data-section="dashboard">
            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="3" y="3" width="7" height="7"/><rect x="14" y="3" width="7" height="7"/><rect x="14" y="14" width="7" height="7"/><rect x="3" y="14" width="7" height="7"/></svg>
            Dashboard
          </div></li>
          <li><div class="nav-btn" tabindex="0" data-section="courses">
            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"/><path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"/></svg>
            Courses
          </div></li>
          <li><div class="nav-btn" tabindex="0" data-section="rooms">
            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"/><polyline points="9 22 9 12 15 12 15 22"/></svg>
            Rooms
          </div></li>
          <li><div class="nav-btn" tabindex="0" data-section="autocomplete">
            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="11" cy="11" r="8"/><path d="m21 21-4.35-4.35"/></svg>
            Autocomplete
          </div></li>
          <li><div class="nav-btn" tabindex="0" data-section="algorithm">
            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M12 2L2 7l10 5 10-5-10-5z"/><path d="M2 17l10 5 10-5"/><path d="M2 12l10 5 10-5"/></svg>
            Algorithms
          </div></li>
        </ul>
      </nav>

      <div style="margin-top:26px">
        <button class="btn" id="new-schedule">+ New Schedule</button>
      </div>

      <div style="position:absolute;bottom:24px;left:28px;right:28px;color:var(--muted);font-size:13px">
        <div>Logged in as <strong id="currentProfessor" style="color:var(--text-dark)">Prof. Nimesh</strong></div>
        <div style="margin-top:8px">Press <kbd style="background:var(--border-light);padding:2px 6px;border-radius:4px">?</kbd> for shortcuts</div>
      </div>
    </aside>

    <main class="main">
      <div class="topbar">
        <div class="search">
          <input class="input" id="globalSearch" placeholder="Search courses, rooms, professors... (try: CS or 101)" aria-label="Global search" />
          <button class="ghost" id="compactToggle">Compact</button>
        </div>
        <div class="controls">
          <div class="small">Room Utilization: <strong id="util">0%</strong></div>
          <div style="display:flex;align-items:center;gap:8px">
            <div class="logo" style="width:36px;height:36px;font-size:14px">ST</div>
          </div>
        </div>
      </div>

      <!-- Dashboard Section -->
      <div id="dashboard-section" class="content-section">
        <div class="grid">
          <section class="card">
            <h2>
              <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="display:inline-block;vertical-align:middle;margin-right:8px">
                <rect x="3" y="4" width="18" height="18" rx="2" ry="2"/><line x1="16" y1="2" x2="16" y2="6"/><line x1="8" y1="2" x2="8" y2="6"/><line x1="3" y1="10" x2="21" y2="10"/>
              </svg>
              Today's Schedule
            </h2>
            <div class="day-filters" role="tablist" aria-label="Day Filters">
              <button class="chip active" data-day="Monday">Mon</button>
              <button class="chip" data-day="Tuesday">Tue</button>
              <button class="chip" data-day="Wednesday">Wed</button>
              <button class="chip" data-day="Thursday">Thu</button>
              <button class="chip" data-day="Friday">Fri</button>
              <button class="chip" data-day="all">All</button>
            </div>

            <div class="schedule-list" id="schedule">
              <!-- populated by JS -->
            </div>

            <div class="hints">Tip: Conflicts show in red. Click an entry to see details & swap room/time.</div>
          </section>

          <aside class="card">
            <h2>
              <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="display:inline-block;vertical-align:middle;margin-right:8px">
                <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"/><polyline points="9 22 9 12 15 12 15 22"/>
              </svg>
              Room Directory
            </h2>
            <div style="display:flex;gap:8px;margin-bottom:10px">
              <input class="input" id="roomFilter" placeholder="Filter rooms (eg. 101)" />
              <button class="ghost" id="exportCSV">Export</button>
            </div>
            <div class="rooms" id="rooms">
              <!-- rooms -->
            </div>
          </aside>
        </div>

        <section style="margin-top:18px" class="card">
          <h2>
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="display:inline-block;vertical-align:middle;margin-right:8px">
              <path d="M12 2L2 7l10 5 10-5-10-5z"/><path d="M2 17l10 5 10-5"/><path d="M2 12l10 5 10-5"/>
            </svg>
            Algorithm Analysis & Performance
          </h2>
          <div style="display:grid;grid-template-columns:repeat(3,1fr);gap:12px;margin-top:12px">
            <div class="algo-card-detailed" data-algo="avl">
              <div style="display:flex;justify-content:space-between;align-items:start;margin-bottom:8px">
                <strong style="color:var(--accent);font-size:16px">AVL Tree</strong>
                <span class="algo-badge">O(log n)</span>
              </div>
              <div class="small" style="margin-bottom:8px">Self-balancing binary search tree for conflict detection</div>
              <div class="algo-stats" id="avl-stats">
                <div class="stat-item"><span>Operations:</span> <strong id="avl-ops">0</strong></div>
                <div class="stat-item"><span>Conflicts Detected:</span> <strong id="avl-conflicts">0</strong></div>
              </div>
              <button class="algo-detail-btn" onclick="showAlgoDetails('avl')">View Details</button>
            </div>
            <div class="algo-card-detailed" data-algo="trie">
              <div style="display:flex;justify-content:space-between;align-items:start;margin-bottom:8px">
                <strong style="color:var(--accent);font-size:16px">Trie</strong>
                <span class="algo-badge">O(m)</span>
              </div>
              <div class="small" style="margin-bottom:8px">Prefix tree for fast auto-completion</div>
              <div class="algo-stats" id="trie-stats">
                <div class="stat-item"><span>Searches:</span> <strong id="trie-searches">0</strong></div>
                <div class="stat-item"><span>Avg Response:</span> <strong id="trie-avg">0ms</strong></div>
              </div>
              <button class="algo-detail-btn" onclick="showAlgoDetails('trie')">View Details</button>
            </div>
            <div class="algo-card-detailed" data-algo="greedy">
              <div style="display:flex;justify-content:space-between;align-items:start;margin-bottom:8px">
                <strong style="color:var(--accent);font-size:16px">Greedy Algorithm</strong>
                <span class="algo-badge">O(n log n)</span>
              </div>
              <div class="small" style="margin-bottom:8px">Optimal room allocation strategy</div>
              <div class="algo-stats" id="greedy-stats">
                <div class="stat-item"><span>Allocations:</span> <strong id="greedy-allocs">0</strong></div>
                <div class="stat-item"><span>Efficiency:</span> <strong id="greedy-eff">0%</strong></div>
              </div>
              <button class="algo-detail-btn" onclick="showAlgoDetails('greedy')">View Details</button>
            </div>
          </div>
        </section>
      </div>

      <!-- Courses Section -->
      <div id="courses-section" class="content-section" style="display:none">
        <section class="card">
          <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:20px">
            <h2>
              <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="display:inline-block;vertical-align:middle;margin-right:8px">
                <path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"/><path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"/>
              </svg>
              All Courses
            </h2>
            <input class="input" id="courseFilter" placeholder="Filter courses..." style="min-width:250px" />
          </div>
          <div id="coursesList" class="courses-grid">
            <!-- populated by JS -->
          </div>
        </section>
      </div>

      <!-- Rooms Section -->
      <div id="rooms-section" class="content-section" style="display:none">
        <section class="card">
          <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:20px">
            <h2>
              <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="display:inline-block;vertical-align:middle;margin-right:8px">
                <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"/><polyline points="9 22 9 12 15 12 15 22"/>
              </svg>
              All Rooms
            </h2>
            <div style="display:flex;gap:8px">
              <input class="input" id="roomsFilter" placeholder="Filter rooms..." style="min-width:250px" />
              <button class="ghost" id="exportRoomsCSV">Export CSV</button>
            </div>
          </div>
          <div id="roomsList" class="rooms-grid">
            <!-- populated by JS -->
          </div>
        </section>
      </div>

      <!-- Autocomplete Section -->
      <div id="autocomplete-section" class="content-section" style="display:none">
        <section class="card">
          <h2>
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="display:inline-block;vertical-align:middle;margin-right:8px">
              <circle cx="11" cy="11" r="8"/><path d="m21 21-4.35-4.35"/>
            </svg>
            Auto-Complete Search (Trie Algorithm)
          </h2>
          <div style="margin-top:20px">
            <label>Course Search</label>
            <input class="input" id="trieCourseSearch" placeholder="Type course code (e.g., CS701)" style="margin-top:8px" />
            <div id="trieCourseResults" class="suggestions" style="position:relative;margin-top:8px"></div>
          </div>
          <div style="margin-top:20px">
            <label>Room Search</label>
            <input class="input" id="trieRoomSearch" placeholder="Type room number (e.g., 101)" style="margin-top:8px" />
            <div id="trieRoomResults" class="suggestions" style="position:relative;margin-top:8px"></div>
          </div>
        </section>
      </div>

      <!-- Algorithm Details Section -->
      <div id="algorithm-section" class="content-section" style="display:none">
        <section class="card">
          <h2>
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="display:inline-block;vertical-align:middle;margin-right:8px">
              <path d="M12 2L2 7l10 5 10-5-10-5z"/><path d="M2 17l10 5 10-5"/><path d="M2 12l10 5 10-5"/>
            </svg>
            Advanced Algorithm Implementation Details
          </h2>
          <div id="algorithm-details-content">
            <!-- Content populated by JS -->
          </div>
        </section>
      </div>

    </main>
  </div>

  <!-- Modal (hidden) -->
  <div id="modalRoot" aria-hidden="true"></div>
  
  <!-- Algorithm Execution Log -->
  <div id="algoLog" class="algo-log" style="display:none">
    <div class="algo-log-header">
      <strong>Algorithm Execution Log</strong>
      <button class="ghost" onclick="closeAlgoLog()" style="padding:4px 8px;font-size:12px">Close</button>
    </div>
    <div id="algoLogContent" class="algo-log-content"></div>
  </div>

  <script src="js/app.js"></script>
</body>
</html>
